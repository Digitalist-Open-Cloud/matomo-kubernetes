/*!!
 * Copyright (C) InnoCraft Ltd - All rights reserved.
 *
 * All information contained herein is, and remains the property of InnoCraft Ltd.
 *
 * @link https://www.innocraft.com/
 * @license For license details see https://www.innocraft.com/license
 */
(function(){var x=new Date().getTime();var p=false;var u=10;var B=false;var H=true;var w=null;var i=function(){return""};var o=[];function n(){if(typeof Piwik==="object"&&typeof Piwik.JSON==="object"){return Piwik.JSON}else{if(window.JSON&&window.JSON.parse&&window.JSON.stringify){return window.JSON}else{if(typeof JSON2==="object"&&JSON2.parse&&window.JSON2.stringify){return JSON2}else{return{parse:function(){return{}},stringify:function(){return""}}}}}}var l=true;function f(){if(p&&"undefined"!==typeof console&&console&&console.debug){console.debug.apply(console,arguments)}}function t(I){return typeof I==="object"&&typeof I.length==="number"}function a(){return document.getElementById("engage_video")&&document.getElementById("videoDisplay1_wrapper")
}function s(){return"function"===typeof jwplayer}function g(){return"function"===typeof flowplayer}function m(K,J){if(!J.getMediaTitle()&&"function"===typeof i){var I=i(K);if(I){J.setMediaTitle(I)}}}var c={AUDIO:"Audio",VIDEO:"Video"};var y={getLocation:function(){var I=this.location||window.location;if(!I.origin){I.origin=I.protocol+"//"+I.hostname+(I.port?":"+I.port:"")}return I},setLocation:function(I){this.location=I},makeUrlAbsolute:function(J){if((!J||String(J)!==J)&&J!==""){return J}if(J.indexOf("//")===0){return this.getLocation().protocol+J}if(J.indexOf("://")!==-1){return J}if(J.indexOf("/")===0){return this.getLocation().origin+J}if(J.indexOf("#")===0||J.indexOf("?")===0){return this.getLocation().origin+this.getLocation().pathname+J}if(""===J){return this.getLocation().href}var I="(.*/)";var K=this.getLocation().origin+this.getLocation().pathname.match(new RegExp(I))[0];return K+J}};var E={getCurrentTime:function(){return new Date().getTime()},roundTimeToSeconds:function(I){return Math.round(I/1000)
},isNumber:function(I){return !isNaN(I)},getTimeScriptLoaded:function(I){return x},generateUniqueId:function(){var L="";var J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";var K=J.length;for(var I=0;I<16;I++){L+=J.charAt(Math.floor(Math.random()*K))}return L},trim:function(I){if(I&&String(I)===I){return I.replace(/^\s+|\s+$/g,"")}return I},getQueryParameter:function(I,M){var L=new RegExp("[?&]"+M+"(=([^&#]*)|&|#|$)");var K=L.exec(I);if(!K){return null}if(!K[2]){return""}var J=K[2].replace(/\+/g," ");return decodeURIComponent(J)}};var d={getAttribute:function(J,I){if(J&&J.getAttribute&&I){return J.getAttribute(I)}return null},setAttribute:function(K,I,J){if(K&&K.setAttribute){K.setAttribute(I,J)}},isMediaIgnored:function(I){var J=d.getAttribute(I,"data-piwik-ignore");if(!!J||J===""){return true}J=d.getAttribute(I,"data-matomo-ignore");if(!!J||J===""){return true}return false},getMediaResource:function(I,J){var K=d.getAttribute(I,"data-matomo-resource");if(K){return K}K=d.getAttribute(I,"data-piwik-resource");
if(K){return K}K=d.getAttribute(I,"src");if(K){return K}return J},getMediaTitle:function(I){var J=d.getAttribute(I,"data-matomo-title");if(!J){J=d.getAttribute(I,"data-piwik-title")}if(!J){J=d.getAttribute(I,"title")}if(!J){J=d.getAttribute(I,"alt")}return J},hasCssClass:function(K,L){if(K&&K.className){var J=(""+K.className).split(" ");for(var I=0;I<J.length;I++){if(J[I]===L){return true}}}return false},getFirstParentWithClass:function(K,L,I){if(I<=0||!K||!K.parentNode){return null}var J=K.parentNode;if(this.hasCssClass(J,L)){return J}else{return this.getFirstParentWithClass(J,L,--I)}},isFullscreen:function(I){if(I&&document.fullScreenElement===I||document.mozFullScreenElement===I||document.webkitFullscreenElement===I||document.msFullscreenElement===I){return true}return false}};function k(){if(null===w){if("object"===typeof Piwik&&Piwik.getAsyncTrackers){return Piwik.getAsyncTrackers()}}if(t(w)){return w}return[]}function G(J,I,K){this.playerName=J;this.type=I;this.resource=K;this.reset()
}G.piwikTrackers=[];G.prototype.reset=function(){this.id=E.generateUniqueId();this.mediaTitle=null;this.timeToInitialPlay=null;this.width=null;this.height=null;this.fullscreen=false;this.timeout=null;this.watchedTime=0;this.lastTimeCheck=null;this.isPlaying=false;this.isPaused=false;this.mediaProgressInSeconds=0;this.mediaLengthInSeconds=0};G.prototype.setResource=function(I){this.resource=I};G.prototype.getResource=function(){return this.resource};G.prototype.trackEvent=function(O){var I=k();var J="Media"+this.type;var M=this.mediaTitle||this.resource;var K=[J,O,M];K.push(parseInt(Math.round(this.mediaProgressInSeconds),10));if(I&&I.length){var L=0,N;for(L;L<I.length;L++){N=I[L];if(N&&N.MediaAnalytics&&N.MediaAnalytics.isTrackEventsEnabled()){N.trackEvent.apply(N,K)}}}else{if(typeof _paq==="undefined"){_paq=[]}K.unshift("trackEvent");_paq.push(K);f("piwikWasNotYetInitialized. This means players were scanning too early for media or there are no async trackers")}f("trackEvent",J,M,O)};G.prototype.trackProgress=function(M,P,O,J,K,R,Z,S,W,T,Q,I){var Y={ma_id:M,ma_ti:P!==null?P:"",ma_pn:O,ma_mt:J,ma_re:K,ma_st:parseInt(R,10),ma_ps:parseInt(Z,10),ma_le:S,ma_ttp:W!==null?W:"",ma_w:T?T:"",ma_h:Q?Q:"",ma_fs:I?"1":"0"};
var U="";for(var N in Y){if(Object.prototype.hasOwnProperty.call(Y,N)){U+=N+"="+encodeURIComponent(Y[N])+"&"}}var X=k();if(X&&X.length){var V=0,L;for(V;V<X.length;V++){L=X[V];if(L&&L.MediaAnalytics&&L.MediaAnalytics.isTrackProgressEnabled()){L.trackRequest(U)}}}else{if(typeof _paq==="undefined"){_paq=[]}_paq.push(["trackRequest",U]);f("piwikWasNotYetInitialized. This means players were scanning too early for media or there are no async trackers")}if(p){f("trackProgress",n().stringify(Y))}};G.prototype.setFullscreen=function(I){if(!this.fullscreen){this.fullscreen=!!I}};G.prototype.setWidth=function(I){if(E.isNumber(I)){this.width=parseInt(I,10)}};G.prototype.setHeight=function(I){if(E.isNumber(I)){this.height=parseInt(I,10)}};G.prototype.setMediaTitle=function(I){this.mediaTitle=I};G.prototype.getMediaTitle=function(){return this.mediaTitle};G.prototype.setMediaProgressInSeconds=function(I){this.mediaProgressInSeconds=I};G.prototype.getMediaProgressInSeconds=function(){return this.mediaProgressInSeconds
};G.prototype.setMediaTotalLengthInSeconds=function(I){this.mediaLengthInSeconds=I};G.prototype.getMediaTotalLengthInSeconds=function(){return this.mediaLengthInSeconds};G.prototype.play=function(){if(this.isPlaying){return}this.isPlaying=true;this.startWatchedTime();if(l&&this.timeToInitialPlay===null){this.timeToInitialPlay=E.roundTimeToSeconds(E.getCurrentTime()-E.getTimeScriptLoaded())}l=false;if(this.isPaused){this.isPaused=false;this.trackEvent("resume")}else{this.trackEvent("play")}this.trackUpdate()};G.prototype.startWatchedTime=function(){this.lastTimeCheck=E.getCurrentTime()};G.prototype.stopWatchedTime=function(){if(this.lastTimeCheck){this.watchedTime+=E.getCurrentTime()-this.lastTimeCheck;this.lastTimeCheck=null}};G.prototype.seekStart=function(){if(this.isPlaying){this.stopWatchedTime()}};G.prototype.seekFinish=function(){if(this.isPlaying){this.startWatchedTime()}};G.prototype.pause=function(){if(this.isPlaying){this.isPaused=true;this.isPlaying=false;if(this.timeout){clearTimeout(this.timeout);
this.timeout=null}this.stopWatchedTime();this.trackUpdate();this.trackEvent("pause")}};G.prototype.finish=function(){if(this.timeout){clearTimeout(this.timeout);this.timeout=null}this.stopWatchedTime();this.trackUpdate();this.trackEvent("finish");this.id=E.generateUniqueId();this.timeToInitialPlay=null;this.lastTimeCheck=null;this.isPlaying=false;this.isPaused=false;this.watchedTime=0;this.mediaProgressInSeconds=0};G.prototype.trackUpdate=function(){var I=E.getCurrentTime();if(this.lastTimeCheck){this.watchedTime+=(I-this.lastTimeCheck);this.lastTimeCheck=I}var L=this.mediaLengthInSeconds;if(!L||!E.isNumber(L)){L=""}else{L=parseInt(this.mediaLengthInSeconds,10)}var J=E.roundTimeToSeconds(this.watchedTime);var K=this.mediaProgressInSeconds;if(K>L&&L){K=L}this.trackProgress(this.id,this.mediaTitle,this.playerName,this.type,this.resource,J,K,L,this.timeToInitialPlay,this.width,this.height,this.fullscreen)};G.prototype.update=function(){if(this.timeout){return}var K=E.roundTimeToSeconds(this.watchedTime);
var J=u;if(!B&&K>=3600){J=90}else{if(!B&&K>=1800){J=60}else{if(!B&&K>=600){J=45}else{if(!B&&K>=300){J=30}else{if(!B&&K>=60){J=15}}}}}J=J*1000;var I=this;this.timeout=setTimeout(function(){I.trackUpdate();I.timeout=null},J)};var e={players:{},registerPlayer:function(I,J){if(!J||!J.scanForMedia||"function"!==typeof J.scanForMedia){throw new Error("A registered player does not implement the scanForMedia function")}I=I.toLowerCase();this.players[I]=J},removePlayer:function(I){I=I.toLowerCase();delete this.players[I]},getPlayer:function(I){I=I.toLowerCase();if(I in this.players){return this.players[I]}return null},getPlayers:function(){return this.players},scanForMedia:function(J){if(!H){return}if("undefined"===typeof J||!J){J=document}var I;for(I in this.players){if(Object.prototype.hasOwnProperty.call(this.players,I)){this.players[I].scanForMedia(J)}}}};var h=function(S,K){if(!S){return}if(!window.addEventListener){return}if(S.hasPlayerInstance){return}S.hasPlayerInstance=true;var W=c.VIDEO===K;
var N=y.makeUrlAbsolute(S.currentSrc);var I=d.getMediaResource(S,N);var M=new G("html5"+K.toLowerCase(),K,I);o.push(M);function J(){if(S.duration){M.setMediaTotalLengthInSeconds(S.duration)}}function O(){if(W){if("undefined"!==typeof S.videoWidth&&S.videoWidth){M.setWidth(S.videoWidth)}else{if("undefined"!==typeof S.clientWidth&&S.clientWidth){M.setWidth(S.clientWidth)}}if("undefined"!==typeof S.videoHeight&&S.videoHeight){M.setHeight(S.videoHeight)}else{if("undefined"!==typeof S.clientHeight&&S.clientHeight){M.setHeight(S.clientHeight)}}M.setFullscreen(d.isFullscreen(S))}}function P(){M.setMediaProgressInSeconds(S.currentTime)}function X(){var aa=d.getMediaTitle(S);if(aa){M.setMediaTitle(aa)}else{U(S,M)}}Y(S,M);O();X();J();P();var L=false;var Q=false;var R=null;if(S.currentSrc){R=S.currentSrc}function U(ac,ag){if(s()&&!ag.getMediaTitle()){var ae=d.getFirstParentWithClass(ac,"jwplayer",2);if(!ae){ae=d.getFirstParentWithClass(ac,"jwplayer-video",3);if(ae&&"undefined"!==typeof ae.children&&ae.children&&ae.children.length&&ae.children[0]){ae=ae.children[0]
}}if(ae){try{var ah=jwplayer(ae);if(ah&&ah.getPlaylistItem){var ai=ah.getPlaylistItem();if(ai&&ai.matomoTitle){ag.setMediaTitle(ai.matomoTitle)}else{if(ai&&ai.piwikTitle){ag.setMediaTitle(ai.piwikTitle)}else{if(ai&&ai.title){ag.setMediaTitle(ai.title)}}}}}catch(ad){f(ad)}}}if(g()&&!ag.getMediaTitle()){var aa=d.getFirstParentWithClass(ac,"flowplayer",4);if(aa){var ah=flowplayer(aa);if(ah&&ah.video&&ah.video.matomoTitle){ag.setMediaTitle(ah.video.matomoTitle)}else{if(ah&&ah.video&&ah.video.piwikTitle){ag.setMediaTitle(ah.video.piwikTitle)}else{if(ah&&ah.video&&ah.video.title){ag.setMediaTitle(ah.video.title)}}}}}if(!ag.getMediaTitle()){var ab=document.getElementById("engage_basic_description_title");if(ab&&ab.innerText){var af=E.trim(ab.innerText);if(af){ag.setMediaTitle(af)}}}m(ac,ag)}function Y(ae,ad){if(s()){var ag=d.getFirstParentWithClass(ae,"jwplayer",2);if(!ag){ag=d.getFirstParentWithClass(ae,"jwplayer-video",3);if(ag&&"undefined"!==typeof ag.children&&ag.children&&ag.children.length&&ag.children[0]){ag=ag.children[0]
}}if(ag){try{var ab=jwplayer(ag);if(ab&&ab.getPlaylistItem){var ac=ab.getPlaylistItem();if(ac&&"undefined"!==typeof ac.matomoResource&&ac.matomoResource){ad.setResource(ac.matomoResource)}else{if(ac&&"undefined"!==typeof ac.piwikResource&&ac.piwikResource){ad.setResource(ac.piwikResource)}}}}catch(af){f(af)}}}if(g()){var aa=d.getFirstParentWithClass(ae,"flowplayer",4);if(aa){var ab=flowplayer(aa);if(ab&&ab.video&&"undefined"!==typeof ab.video.matomoResource&&ab.video.matomoResource){ad.setResource(ab.video.matomoResource)}else{if(ab&&ab.video&&"undefined"!==typeof ab.video.piwikResource&&ab.video.piwikResource){ad.setResource(ab.video.piwikResource)}}}}}function T(){if(!R&&S.currentSrc){R=S.currentSrc}else{if(R&&S.currentSrc&&R!=S.currentSrc){R=S.currentSrc;var ab=y.makeUrlAbsolute(R);var aa=M.getMediaTitle();L=false;M.reset();M.setResource(ab);M.setMediaTitle("");var ac=d.getMediaTitle(S);if(ac&&ac!==aa){M.setMediaTitle(ac)}else{U(S,M)}Y(S,M);J()}}}function Z(){if(!Q&&(M.getResource()||M.getMediaTitle())){Q=true;
X(S,M);Y(S,M);M.trackUpdate()}}function V(){T();O();J();P();Z()}S.addEventListener("playing",function(){T();if("undefined"!==typeof S.paused&&S.paused){return}if("undefined"!==typeof S.ended&&S.ended){return}if(!L){P();L=true;M.play()}},true);S.addEventListener("durationchange",J,true);S.addEventListener("loadedmetadata",V,true);S.addEventListener("loadeddata",V,true);S.addEventListener("pause",function(){if(S.currentTime&&S.duration&&S.currentTime===S.duration){return}if(S.seeking){return}P();L=false;M.pause()},true);S.addEventListener("seeking",function(){if(S.seeking){P();M.trackEvent("seek")}},true);S.addEventListener("ended",function(){L=false;M.finish()},true);S.addEventListener("timeupdate",function(){P();J();if(W&&!M.width){O()}if("undefined"!==typeof S.paused&&S.paused){return}if("undefined"!==typeof S.ended&&S.ended){return}Q=true;if(!L){L=true;M.play()}else{M.update()}},true);S.addEventListener("seeking",function(){M.seekStart()},true);S.addEventListener("seeked",function(){P();
J();M.seekFinish()},true);if(W){S.addEventListener("resize",V,true);window.addEventListener("resize",function(){O()},false)}M.timeout=setTimeout(function(){V();M.timeout=null},1500)};h.scanForMedia=function(K){if(!window.addEventListener){return}var L=a();var O=K.getElementsByTagName("video");for(var J=0;J<O.length;J++){if(!d.isMediaIgnored(O[J])){if(L){var M=K.getElementById("videoDisplay1_wrapper");if(M&&("function"===typeof M.contains)&&!M.contains(O[J])){continue}}new h(O[J],c.VIDEO)}}O=null;var I=K.getElementsByTagName("audio");for(var J=0;J<I.length;J++){if(!d.isMediaIgnored(I[J])){new h(I[J],c.AUDIO)}}I=null;if("undefined"!==typeof soundManager&&soundManager&&"undefined"!==typeof soundManager.sounds){for(var J in soundManager.sounds){if(Object.prototype.hasOwnProperty.call(soundManager.sounds,J)){var N=soundManager.sounds[J];if(N&&N.isHTML5&&N._a){if(!d.isMediaIgnored(N._a)){new h(N._a,c.AUDIO)}}}}}};var F=function(K,Q){if(!K||!window.addEventListener){return}if(K.hasPlayerInstance||!s()){return
}var R=d.getFirstParentWithClass(K,"jwplayer",2);if(!R){return}var U=jwplayer(R);if(!U||!U.getItem||"undefined"===(typeof U.getItem())){return}K.hasPlayerInstance=true;function V(W){var X=W.getPlaylistItem();if(X&&X.matomoResource){return X.matomoResource}if(X&&X.piwikResource){return X.piwikResource}if(X&&X.file){return X.file}return""}function J(X){var Y=X.getPlaylistItem();if(Y&&Y.matomoTitle){return Y.matomoTitle}if(Y&&Y.piwikTitle){return Y.piwikTitle}if(Y&&Y.title){return Y.title}if("function"===typeof i){var W=i(K);if(W){return W}}return null}function P(W,X,Z){var Y=V(W);if(Z&&Y&&Z!=Y){Z=Y;X.reset();X.setResource(y.makeUrlAbsolute(Z));X.setMediaTitle(J(W));X.setWidth(W.getWidth());X.setHeight(W.getHeight());X.setFullscreen(W.getFullscreen());return true}return false}var T=V(U);var I=y.makeUrlAbsolute(T);var L=d.getMediaResource(K,I);var S=new G("jwplayer",Q,L);S.setMediaTitle(J(U));S.setWidth(U.getWidth());S.setHeight(U.getHeight());S.setFullscreen(U.getFullscreen());o.push(S);var M=U.getDuration();
if(M){S.setMediaTotalLengthInSeconds(M)}var N=false,O=T;U.on("play",function(){P(U,S,O);N=true;S.play()},true);U.on("playlistItem",function(){P(U,S,O);if(U.getState()!=="playing"){N=false}},true);U.on("pause",function(){if(U.getPosition()&&U.getDuration()&&U.getPosition()===U.getDuration()){return}S.pause()},true);U.on("complete",function(){S.finish()},true);U.on("time",function(){var W=U.getPosition();if(W){S.setMediaProgressInSeconds(W)}var X=U.getDuration();if(X){S.setMediaTotalLengthInSeconds(X)}if(N){S.update()}else{N=true;S.play()}},true);U.on("seek",function(){S.seekStart()},true);U.on("seeked",function(){var W=U.getPosition();if(W){S.setMediaProgressInSeconds(W)}var X=U.getDuration();if(X){S.setMediaTotalLengthInSeconds(X)}S.seekFinish();S.trackEvent("seek")},true);U.on("resize",function(){S.setWidth(U.getWidth());S.setHeight(U.getHeight());S.setFullscreen(U.getFullscreen())},true);U.on("fullscreen",function(){S.setWidth(U.getWidth());S.setHeight(U.getHeight());S.setFullscreen(U.getFullscreen())
},false);S.trackUpdate()};F.scanForMedia=function(J){if(!window.addEventListener||!s()){return}var K=J.getElementsByTagName("object");for(var I=0;I<K.length;I++){if(!d.isMediaIgnored(K[I])&&d.hasCssClass(K[I],"jw-swf")){new F(K[I],c.VIDEO)}}K=null};var b=function(L,M){if(!L){return}if(!window.addEventListener){return}if(L.playerInstance){return}L.playerInstance=true;var I=d.getAttribute(L,"src");var K=d.getMediaResource(L,null);var Q=new G("vimeo",M,K);Q.setWidth(L.clientWidth);Q.setHeight(L.clientHeight);Q.setFullscreen(d.isFullscreen(L));o.push(Q);window.addEventListener("resize",function(){Q.setWidth(L.clientWidth);Q.setHeight(L.clientHeight);Q.setFullscreen(d.isFullscreen(L))},false);var P=d.getMediaTitle(L);if(P){Q.setMediaTitle(P)}var J=function(S){if(!(/^(https?:)?\/\/(player.)?vimeo.com(?=$|\/)/).test(S.origin)){return false}if(!S||!S.data){return}if(L.contentWindow&&S.source&&L.contentWindow!==S.source){return}var T=S.data;if("string"===typeof T){T=n().parse(S.data)}if(("event" in T&&T.event==="ready")||("method" in T&&T.method==="ping")){if(N==="*"){N=S.origin
}if(!L.isVimeoReady){L.isVimeoReady=true;O("addEventListener","play");O("addEventListener","pause");O("addEventListener","finish");O("addEventListener","seek");O("addEventListener","seeked");O("addEventListener","playProgress");O("getVideoTitle")}return}if("method" in T){f("vimeoMethod",T.method);switch(T.method){case"getVideoTitle":if(T.value){Q.setMediaTitle(T.value)}else{m(L,Q)}Q.trackUpdate();break;case"getPaused":if(T.value){Q.pause()}}return}if("event" in T){var R=T.event;f("vimeoEvent",R);if(T&&T.data){T=T.data}if(Q&&T&&T.seconds){if(Q.getMediaProgressInSeconds()===T.seconds&&(R==="playProgress"||R==="timeupdate")){return}Q.setMediaProgressInSeconds(T.seconds)}if(Q&&T&&T.duration){Q.setMediaTotalLengthInSeconds(T.duration)}switch(R){case"play":Q.play();break;case"timeupdate":case"playProgress":if(Q._isSeeking){Q._isSeeking=false;Q.seekFinish()}Q.update();break;case"seek":Q.seekStart();Q._isSeeking=true;break;case"seeked":Q.trackEvent("seek");break;case"pause":if(T&&T.seconds&&T&&T.duration&&T.seconds===T.duration){f("ignoring pause event because video is finished");
break}setTimeout(function(){O("getPaused")},700);break;case"finish":Q.finish();break}}};window.addEventListener("message",J,true);var N="*";Q._isSeeking=false;function O(U,S){var R={method:U};if(S!==undefined){R.value=S}if(L&&L.contentWindow){if(navigator&&navigator.userAgent){var T=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));if(T>=8&&T<10){R=n().stringify(R)}}L.contentWindow.postMessage(R,N)}}O("ping")};b.scanForMedia=function(K){if(!window.addEventListener){return}var J=K.getElementsByTagName("iframe");for(var I=0;I<J.length;I++){if(d.isMediaIgnored(J[I])){continue}var L=d.getAttribute(J[I],"src");if(L&&L.indexOf("player.vimeo.com")>0){new b(J[I],c.VIDEO)}}J=null};var v=function(M,P){if(!M){return}if(!window.addEventListener){return}if(M.playerInstance){return}var J=d.getMediaResource(M,null);var T=new G("youtube",P,J);T.setWidth(M.clientWidth);T.setHeight(M.clientHeight);T.setFullscreen(d.isFullscreen(M));o.push(T);window.addEventListener("resize",function(){T.setWidth(M.clientWidth);
T.setHeight(M.clientHeight);T.setFullscreen(d.isFullscreen(M))},false);var R=d.getMediaTitle(M);if(R){T.setMediaTitle(R)}var K=false;var L=null;var S=0;var O=!d.getAttribute(M,"data-piwik-title")&&!d.getAttribute(M,"data-matomo-title");var I=false;var N=false;var Q=null;M.playerInstance=new YT.Player(M,{events:{onReady:function(U){if(!U||!U.target){return}if(O&&U.target&&U.target.getVideoData){var V=U.target.getVideoData();if(V&&V.title){T.setMediaTitle(V.title)}else{m(M,T)}}T.trackUpdate()},onStateChange:function(U){if(!U||!U.target){return}var X=U.target;var W;if(U&&"undefined"!==typeof U.data){W=U.data}else{if(!X.getPlayerState){f("youtubeMissingPlayerState");return}W=X.getPlayerState()}f("youtubeStateChange",W);switch(W){case YT.PlayerState.ENDED:S=0;if(X.getCurrentTime){T.setMediaProgressInSeconds(X.getCurrentTime())}if(X.getDuration){T.setMediaTotalLengthInSeconds(X.getDuration())}T.finish();if(L){clearInterval(L);L=null}break;case YT.PlayerState.PLAYING:var V=null;if(X.getVideoData){V=X.getVideoData()
}if(!Q&&V&&V.video_id){Q=V.video_id}else{if(Q&&V&&V.video_id&&Q!=V.video_id){Q=V.video_id;T.reset();if(X.getVideoUrl){T.setResource(X.getVideoUrl())}O=true;I=false;K=false;f("currentVideoId has changed to "+Q)}}if(X.getCurrentTime){S=E.getCurrentTime();T.setMediaProgressInSeconds(X.getCurrentTime())}if(X.getDuration){T.setMediaTotalLengthInSeconds(X.getDuration())}if(O){if(V&&V.title){T.setMediaTitle(V.title)}O=false}if(!I||N){I=true;N=false;K=false;T.play()}else{if(K){K=false;T.seekFinish()}}T.update();if(!L){L=setInterval(function(){if(S){var Z=T.getMediaProgressInSeconds();var Y=E.getCurrentTime();if(S){Z+=E.roundTimeToSeconds(Y-S);S=Y}T.setMediaProgressInSeconds(Z)}T.update()},1*1000)}break;case -1:case YT.PlayerState.PAUSED:setTimeout(function(){S=0;if(X&&X.getPlayerState&&X.getPlayerState()==YT.PlayerState.PAUSED){T.pause();N=true;if(L){clearInterval(L);L=null}}},1000);break;case YT.PlayerState.BUFFERING:S=0;T.seekStart();K=true;if(L){clearInterval(L);L=null}break}}}})};v.scanForMedia=function(N){if(!window.addEventListener){return
}var K=[];var L=N.getElementsByTagName("iframe");for(var M=0;M<L.length;M++){if(d.isMediaIgnored(L[M])){continue}var P=d.getAttribute(L[M],"src");if(P&&P.indexOf("youtube.com")>0){d.setAttribute(L[M],"enablejsapi","true");K.push(L[M])}}L=null;if(K.length&&!window.onYouTubeIframeAPIReady){window.onYouTubeIframeAPIReady=function(){var Q=N.getElementsByTagName("iframe");for(var R=0;R<Q.length;R++){if(d.isMediaIgnored(Q[R])){continue}var S=d.getAttribute(Q[R],"src");if(S&&S.indexOf("youtube.com")>0){if(Q[R].setAttribute){Q[R].setAttribute("enablejsapi","1")}new v(Q[R],c.VIDEO)}}};var J=document.createElement("script");J.src="https://www.youtube.com/iframe_api";var I=document.getElementsByTagName("script");if(I&&I.length){var O=document.getElementsByTagName("script")[0];O.parentNode.insertBefore(J,O)}else{if(document.body){document.body.appendChild(J)}}}else{if(K.length&&"undefined"!==typeof YT){for(var M=0;M<K.length;M++){new v(K[M],c.VIDEO)}}}K=null};e.registerPlayer("html5",h);e.registerPlayer("vimeo",b);
e.registerPlayer("youtube",v);e.registerPlayer("jwplayer",F);function r(I){if("undefined"!==typeof I.MediaAnalytics){return}I.MediaAnalytics={enableEvents:true,enableProgress:true,disableTrackEvents:function(){this.enableEvents=false},enableTrackEvents:function(){this.enableEvents=true},isTrackEventsEnabled:function(){return H&&this.enableEvents},disableTrackProgress:function(){this.enableProgress=false},enableTrackProgress:function(){this.enableProgress=true},isTrackProgressEnabled:function(){return H&&this.enableProgress}};Piwik.trigger("MediaAnalytics.TrackerInitialized",[I])}function j(){if(typeof window==="object"&&"function"===typeof window.piwikMediaAnalyticsAsyncInit){window.piwikMediaAnalyticsAsyncInit()}}var C=false;var D=false;function A(){if(!C&&s()){C=true;var J=jwplayer();if("object"===typeof J&&"function"===typeof J.on){J.on("ready",function(K){e.scanForMedia(document)})}}if(!D&&g()){D=true;flowplayer(function(L,K){if(L){L.on("ready",function(){e.scanForMedia(document)});
L.on("load",function(){e.scanForMedia(document)})}});var I=flowplayer();if("object"===typeof I&&"function"===typeof I.on){I.on("ready",function(){e.scanForMedia(document)});I.on("load",function(){e.scanForMedia(document)})}}}function q(){Piwik.DOM.onReady(function(){var I=k();if(!I||!t(I)||!I.length){return}e.scanForMedia(document);A()});Piwik.DOM.onLoad(function(){var I=k();if(!I||!t(I)||!I.length){return}e.scanForMedia(document);A()})}function z(){if("object"===typeof window&&"object"===typeof window.Piwik&&"object"===typeof window.Piwik.MediaAnalytics){return}if("object"===typeof window&&!window.Piwik){return}Piwik.MediaAnalytics={utils:E,url:y,element:d,players:e,MediaTracker:G,mediaType:c,scanForMedia:function(K){e.scanForMedia(K||document)},setPingInterval:function(K){if(1>K){throw new Error("Ping interval needs to be at least one second")}B=true;u=parseInt(K,10)},removePlayer:function(K){e.removePlayer(K)},addPlayer:function(L,K){e.registerPlayer(L,K)},disableMediaAnalytics:function(){H=false
},enableMediaAnalytics:function(){H=true},setPiwikTrackers:function(K){if(K===null){w=null;return}if(!t(K)){K=[K]}w=K},setMediaTitleFallback:function(K){if("function"!==typeof K){throw new Error("The mediaTitleFallback needs to be callback function")}i=K},getPiwikTrackers:function(){return k()},isMediaAnalyticsEnabled:function(){return H},enableDebugMode:function(){p=true}};Piwik.addPlugin("MediaAnalytics",{unload:function(){var L;f("tracker intances mediaTrackerInstances");for(var K=0;K<o.length;K++){L=o[K];if(L&&L.timeout){f("before unload");clearTimeout(L.timeout);L.timeout=null;L.trackUpdate()}}}});if(window.Piwik.initialized){var I=Piwik.getAsyncTrackers();var J=0;for(J;J<I.length;J++){r(I[J])}Piwik.on("TrackerSetup",r);Piwik.retryMissedPluginCalls();j();q()}else{Piwik.on("TrackerSetup",r);Piwik.on("PiwikInitialized",function(){j();q()})}}if("object"===typeof window.Piwik){z()}else{if("object"!==typeof window.piwikPluginAsyncInit){window.piwikPluginAsyncInit=[]}window.piwikPluginAsyncInit.push(z)
}})();
